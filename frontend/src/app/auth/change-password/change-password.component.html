<div class="change-password">
  <div class="icon">
  </div>
  <h2>Change Password</h2>

  <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label>New Password <span class="required">*</span></label>
      <input
        type="password"
        formControlName="newPassword"
        placeholder="Enter your new password"
        autocomplete="new-password"
      />
      @if (resetPasswordForm.get("newPassword")?.errors?.["required"] && resetPasswordForm.get("newPassword")?.touched) {
        <span class="error-text">New password is required</span>
      }
      @if (resetPasswordForm.get("newPassword")?.errors?.["minlength"]) {
        <span class="error-text">Password must be at least 6 characters</span>
      }
    </div>

    <div class="form-group">
      <label>Confirm New Password <span class="required">*</span></label>
      <input
        type="password"
        formControlName="confirmNewPassword"
        placeholder="Confirm your new password"
        autocomplete="new-password"
      />
      @if (resetPasswordForm.hasError("mismatch") && resetPasswordForm.get("confirmNewPassword")?.touched) {
        <span class="error-text">Passwords must match</span>
      }
    </div>

    <button type="submit" [disabled]="resetPasswordForm.invalid">
      Change Password
    </button>
  </form>

  <a (click)="onCancel()" class="cancel-link">Back to My Account</a>
</div>
